Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2021-10-14T14:37:34-05:00

====== PureFTPD ======
Created Thursday 14 October 2021

FTP Server

===== Installation =====
{{{code: lang="sh" linenumbers="False"
sudo apt update && sudo apt install pure-ftpd
}}}


===== Start =====
{{{code: lang="sh" linenumbers="False"
sudo systemctl start pure-ftpd
}}}


===== Setup =====
Run this script to setup the correct paths and add the right users:
{{{code: lang="sh" linenumbers="True"
#!/usr/bin/env bash

USER=rawaftp

sudo groupadd ftpgroup
sudo useradd -g ftpgroup -s /usr/sbin/nologin -d /nonexistent ftpuser
echo "[+] Creating user $USER, specify password below"
sudo pure-pw useradd $USER -u ftpuser -d /ftphome
sudo pure-pw mkdb
sudo sh -c "cd /etc/pure-ftpd/auth/ ; ln -s ../conf/PureDB 60pdb"
sudo mkdir -p /ftphome
sudo chown -R ftpuser:ftpgroup /ftphome/
sudo systemctl restart pure-ftpd
}}}

This will create an FTP user with name "rawaftp"

