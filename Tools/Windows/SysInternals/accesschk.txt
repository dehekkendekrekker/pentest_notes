Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2021-10-21T10:13:51-05:00

====== accesschk ======
Created Thursday 21 October 2021

Reports effective permissions for securable objects

===== Installation =====
{{{code: lang="sh" linenumbers="False"
wget https://download.sysinternals.com/files/AccessChk.zip
unzip ./AccessChk.zip
sudo mv ./a* /usr/share/windows-binaries/sysinternals
}}}

* Make sure the dest folder exists

===== Usage =====
{{{code: lang="sh" linenumbers="False"
accesschk.exe <options> <object>
}}}


===== Options =====
{{{code: lang="texinfo" linenumbers="False"
-w						Search for write permissions
-u						Suppress errors
-s 						Perform recursive search
-c					    Name is a Windows Service e.g. ssdpsrv. Specify '*' as the
						name to show all services and 'scmanager' to check the security
						of the Service Control Manager

/accepteula				Accepts the eula. Must be specified on first run. IF not, a pop-up shows up asking to accept, halting execution.
}}}


===== Examples =====
{{{code: lang="sh" linenumbers="False"
accesschk.exe -uws "Everyone" "C:\Program Files" /accepteula
}}}

* This will list all the files with write permissions for everyone in the specified directory
* Accepts the eula

{{{code: lang="texinfo" linenumbers="False"
accesschk.exe /accepteula -uwcqv "Authenticated Users" *
}}}

* Enumerates services we can exploit

{{{code: lang="texinfo" linenumbers="False"
accesschk.exe /accepteula -ucqv <service>
}}}

* Returns which users have what rights on this service
