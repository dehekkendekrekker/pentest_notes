Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2021-10-26T18:12:01-05:00

====== plink ======
Created Tuesday 26 October 2021

===== Description =====
Command line connecrtion utility.
* Performs SSH connectivity from windows platform

===== Website =====
https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html

===== Installation =====
* Installed on Kali here (maybe outdated)
{{{code: lang="sh" linenumbers="False"
/usr/share/windows-resources/binaries/plink.exe
}}}

* Download 
{{{code: lang="sh" linenumbers="False"
sudo wget https://the.earth.li/~sgtatham/putty/latest/w32/plink.exe -O /usr/share/windows-resources/binaries/plink.exe   # 32 bit
sudo wget https://the.earth.li/~sgtatham/putty/latest/w64/plink.exe -O /usr/share/windows-resources/binaries/plink64.exe # 64 bit
}}}


===== Usage =====
{{{code: lang="sh" linenumbers="False"
plink [options] [user@]host [command]
}}}


===== Options =====
{{{code: lang="texinfo" linenumbers="False"
-ssh							Force SSH protocol
-v								Verbose
-N 								No operation. Useful for tunnels
-pw <password>		`			Specifiy password to login with

SSH only:
-L <[listening_addr:]listening_port:remote_host:remote_port>			Setup local port forwarding
-R <[listening_addr:]listening_port:remote_host:remote_port>			Setup remote port forwarding
-D <[listening_addr:]listening_port>									Setup dynamic port forwarding
}}}


===== Examples =====

==== Reverse tunnel ====
{{{code: lang="sh" linenumbers="False"
plink -ssh -v -N -R 2000:127.0.0.1:80 tunnel@192.168.119.17
}}}

* Forces ssh protocol
* Outputs verbosely
* Does nothing (just sets up the tunnel)
* Forwards port 2000 on remote machine to port 80 on localhost

==== Tunnel ====
{{{code: lang="sh" linenumbers="False"
plink -ssh -N -L 443:142.250.64.195:443 tunnel@192.168.119.177
}}}

* Forwards port 443 on local machine to 142.250.64.195:443 from remote machine

==== Run in non-interactive shell ====
{{{code: lang="texinfo" linenumbers="False"
cmd.exe /c echo y | plink.exe -ssh -l kali -pw ilak -R 10.11.0.4:1234:127.0.0.1:3306 10.11.0.4
}}}

* The cmd.exe snippet provides a 'y' to the plink command.
* This is needed, because plink.exe won't trust the host and  asks for confirmation.
