Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2021-09-28T11:07:23-05:00

====== Encoding ======
Created Tuesday 28 September 2021

===== URL encoding =====

Url encoding is used in communication to a web-server. There are some reserved characters in the HTTP standard that preclude the whole range of a byte to be accepted.

The format is a percent sign, followed by a a hex numer.
{{{code: lang="sh" linenumbers="False"
%01%02%03 
}}}


This encoding useful when passing a payload, because the HTTP standard does not allow characters above 128.

==== Encoding a payload ====

It's best to use the following encode function, as the built in urllibe.parse.quote() function is too much hassle

=== Python3 ===
{{{code: lang="python3" linenumbers="True"
def encode(payload):
    buffer = ""
    for c in payload:
        buffer += "%" + "%0.2X" % c
    return buffer
}}}


==== Charset to use ====
* You'll need to specify the charset parameter in the Content-Type header of the request, because this will be used by the server to decode back to bytes.
* This needs to be one that maps all 255 permutations to a character.
* UTF-8 won't work, as all permutation above 128 will map to a 2-byte value, for instance %ff" will be decoded as 0xC3BF

==== List of suitable charsets ====
* [[https://en.wikipedia.org/wiki/Code_page_775|CP775]]


===== See =====
[[Technologies:HTTP:Headers]]
[[Binary Exploitation:BadCharacters]]
