Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2020-02-12T19:31:53-05:00

====== FTP ======
Created Wednesday 12 February 2020


===== File Transfer Protocol =====

===== Modes =====
FTP can operate in two modes, active and passive mode:

==== Active mode ====
* In active mode, a client opens a command channel with the server (usually on TCP port 21).
* When the client initiates a transfer,  the client opens a socket (the data channel) on a RANDOM port
* The server now opens a connection to the client, and delivers the file.

=== Drawbacks ===
* Since the server needs to connect back to the client on a RANDOM port, it means the client's firewall needs to be pretty permissive or intelligent enough to open just the one for the FTP client, and keep the other ports closed.

==== Passive Mode ====
* In passive mode, like in active mode, the client opens a connection with the server
* When the client initiates transfer, the SERVER now opens an extra socket on a RANDOM port
* The client will now connect to this port, and the server can deliver the file to the target.

=== Drawbacks ===
* The problem of the firewall is now moved to the server. The client can more easily open an outbound connection, but the server needs to keep its ports open to be able to receive the connections.
* However its is possible to configure the passive port range on the server




===== ERROR =====
* In the wild you may run into some errors, here's a list of what you can encounter and what they mean:

==== 530 User cannot log in, home directory inaccessible ====
This happens when anonymous access is available, but you can't get in anyway
* You may not have access to the home directory
* Other permission issues
* Locked account






===== TIPS =====
* Always use BIN mode for NON-ASCII files!

===== SEE =====
[[AttackVectors:FTP]]
