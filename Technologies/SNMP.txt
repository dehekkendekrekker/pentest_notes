Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2021-09-16T10:47:00-05:00

====== SNMP ======
Created Thursday 16 September 2021

===== Simple Network Management Protocol =====

Is an application layer protocol for collecting and organizing information about managed devices on an IP network.

Routers, switches, printers typically support this protocol.

There are 3 versions
* SNMPv1
* SNMPv2c
* SNMPv3

===== Terminology =====

==== SNMP  Management  Information  Base  (MIB) ====
This is a database containing information usually related to network management
* Organized like a tree
* The leafs (endpoints) contain the information

==== Manager ====
This is a piece of software that manages the network. It talks to agents on the managed devices.

==== Agent ====
An agent is a piece of software that runs on a managed device and replies to SNMP commands.

==== Community ====
https://docstore.mik.ua/orelly/networking_2ndEd/snmp/ch02_02.htm

In SNMPv1 and SNMPv2 the notion of communities are used to establish trust between managers and agents.
They are identified by 3 community strings:
* read only        Read only access to information itesm
* read/write     Allows configurations to be changes
* trap                  Allow the recptions of async messages from the agents

Community strings are basically passwords

=== Defaults ===
Default community string are configured as follows:

| Community  | String  |
|:-----------|:--------|
| read only  | public  |
| read/write | private |



===== Version properties =====
| Version | Encrypted |   |
|:--------|:----------|:--|
| SNMPv1  | No        |   |
| SNMPv2c | No        |   |
| SNMPv3  | Yes       |   |


===== Scanning for services =====
{{{code: lang="sh" linenumbers="False"
sudo nmap -sU -p161 <subnet> -oG <output file>
}}}

This scans the subnet for open|filtered port 161s on the subnet.  
The result maybe open or open|filtered (more common), so you won't know for sure if the service is firewalled out, or just not responding.

Another (more narrow way of scanning is using [[Tools:Linux:onesixtyone|onesixtyone]]

==== Links ====
[[Tools:Linux:nmap]]
[[Tools:Linux:onesixtyone]]      (Basic information)
[[Tools:Linux:net-snmp]]          (Elobarate information, but hard to read)
[[Tools:Linux:snmp-check]]    (Elaborate information, human readable)
